@model task_final.ViewModels.CategoryDropdownViewModel
@{
	if (ViewContext.RouteData.Values["action"]?.ToString() == "ProductList") ViewData["action"] = "ProductFilterCategory";
	else if (ViewContext.RouteData.Values["action"]?.ToString() == "ShoppingProductAdd") ViewData["action"] = "ShoppingProductFilterCategory";
	Layout = null;
}
<form asp-action="@ViewData["action"]">
	<input asp-for="@Model.ShoppingListID" type="hidden" />
	<div class="form-group">
		<label asp-for="CategoryID" class="control-label"></label>
		<select asp-for="CategoryID" asp-items="@Model.Categories" onchange="SubmitForm(this.form)"></select>
		<span asp-validation-for="CategoryID" class="text-danger"></span>
	</div>
</form>
<script>
	function SubmitForm(form) {
		form.submit();
	}
</script>